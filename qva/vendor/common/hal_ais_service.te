#Copyright (c) 2023 Qualcomm Innovation Center, Inc. All rights reserved.
#SPDX-License-Identifier: BSD-3-Clause-Clear
#

type vendor_hal_ais_qti, domain;
hal_server_domain(vendor_hal_ais_qti, vendor_hal_ais)

type vendor_hal_ais_qti_exec, exec_type, vendor_file_type, file_type;
init_daemon_domain(vendor_hal_ais_qti)

allow vendor_hal_ais_qti vendor_camera_socket:dir search;
allow vendor_hal_ais_qti vendor_camera_socket:sock_file write;
allow vendor_hal_ais_qti hal_graphics_allocator_default:fd use;
allow vendor_hal_ais_qti vendor_ais_server:unix_stream_socket connectto;
allow vendor_hal_ais_qti vendor_sysfs_kpi:file w_file_perms;

add_service(vendor_hal_ais_qti, vendor_hal_ais_service)
allow vendor_hal_ais_qti vndbinder_device:chr_file rw_file_perms;
binder_call(vendor_hal_ais_qti, servicemanager)
